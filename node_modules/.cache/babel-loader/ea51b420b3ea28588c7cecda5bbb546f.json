{"ast":null,"code":"import _slicedToArray from \"/home/nino420/Desktop/TodoReactApp/Firebase-auth-chat-app-master/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/nino420/Desktop/TodoReactApp/Firebase-auth-chat-app-master/src/pages/profile/GetProfileData/GetProfileData.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport firebaseImage from '../../../assets/firebase.png';\nimport { useDispatch, useMappedState } from 'redux-react-hook';\nimport { action_getProfileData } from '../../../store/profile/getProfileData';\nimport './getProfileData.scss';\nimport { getProfile } from '../../../store/profile/selectors';\nimport { firebase_app } from '../../../api/firebase';\nexport var GetProfileData = function GetProfileData() {\n  var dispatch = useDispatch();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isUserLoggedIn = _useState2[0],\n      setIsUserLoggedIn = _useState2[1];\n\n  firebase_app.auth().onAuthStateChanged(function (user) {\n    if (user) {\n      setIsUserLoggedIn(true);\n    }\n  });\n  useEffect(function () {\n    if (isUserLoggedIn) {\n      dispatch(action_getProfileData());\n    }\n  }, [isUserLoggedIn, dispatch]);\n\n  var _useMappedState = useMappedState(getProfile),\n      profile = _useMappedState.data,\n      isProfileLoading = _useMappedState.loading;\n\n  return React.createElement(\"div\", {\n    className: \"get-profile-data\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: firebaseImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, \"Get profile data\"), isProfileLoading && React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Loading\"), React.createElement(\"pre\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, JSON.stringify(profile, null, '\\t')));\n};","map":{"version":3,"sources":["/home/nino420/Desktop/TodoReactApp/Firebase-auth-chat-app-master/src/pages/profile/GetProfileData/GetProfileData.tsx"],"names":["React","useEffect","useState","firebaseImage","useDispatch","useMappedState","action_getProfileData","getProfile","firebase_app","GetProfileData","dispatch","isUserLoggedIn","setIsUserLoggedIn","auth","onAuthStateChanged","user","profile","data","isProfileLoading","loading","JSON","stringify"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,SAASC,WAAT,EAAsBC,cAAtB,QAA4C,kBAA5C;AACA,SAASC,qBAAT,QAAsC,uCAAtC;AAEA,OAAO,uBAAP;AACA,SAASC,UAAT,QAA2B,kCAA3B;AACA,SAASC,YAAT,QAA6B,uBAA7B;AAEA,OAAO,IAAMC,cAAwB,GAAG,SAA3BA,cAA2B,GAAM;AAC1C,MAAMC,QAAQ,GAAGN,WAAW,EAA5B;;AAD0C,kBAEEF,QAAQ,CAAU,KAAV,CAFV;AAAA;AAAA,MAEnCS,cAFmC;AAAA,MAEnBC,iBAFmB;;AAI1CJ,EAAAA,YAAY,CAACK,IAAb,GAAoBC,kBAApB,CAAuC,UAACC,IAAD,EAAU;AAC7C,QAAIA,IAAJ,EAAU;AACNH,MAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACH;AACJ,GAJD;AAMAX,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAIU,cAAJ,EAAoB;AAChBD,MAAAA,QAAQ,CAACJ,qBAAqB,EAAtB,CAAR;AACH;AACJ,GAJQ,EAIN,CAACK,cAAD,EAAiBD,QAAjB,CAJM,CAAT;;AAV0C,wBAgBWL,cAAc,CAACE,UAAD,CAhBzB;AAAA,MAgB5BS,OAhB4B,mBAgBlCC,IAhBkC;AAAA,MAgBVC,gBAhBU,mBAgBnBC,OAhBmB;;AAkB1C,SACI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,GAAG,EAAEhB,aAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHJ,EAIKe,gBAAgB,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJzB,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAME,IAAI,CAACC,SAAL,CAAeL,OAAf,EAAwB,IAAxB,EAA8B,IAA9B,CAAN,CALJ,CADJ;AASH,CA3BM","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport firebaseImage from '../../../assets/firebase.png';\nimport { useDispatch, useMappedState } from 'redux-react-hook';\nimport { action_getProfileData } from '../../../store/profile/getProfileData';\n\nimport './getProfileData.scss';\nimport { getProfile } from '../../../store/profile/selectors';\nimport { firebase_app } from '../../../api/firebase';\n\nexport const GetProfileData: React.FC = () => {\n    const dispatch = useDispatch();\n    const [isUserLoggedIn, setIsUserLoggedIn] = useState<boolean>(false);\n\n    firebase_app.auth().onAuthStateChanged((user) => {\n        if (user) {\n            setIsUserLoggedIn(true);\n        }\n    });\n\n    useEffect(() => {\n        if (isUserLoggedIn) {\n            dispatch(action_getProfileData());\n        }\n    }, [isUserLoggedIn, dispatch]);\n\n    const { data: profile, loading: isProfileLoading } = useMappedState(getProfile);\n\n    return (\n        <div className=\"get-profile-data\">\n            <img src={firebaseImage} />\n\n            <span>Get profile data</span>\n            {isProfileLoading && <span>Loading</span>}\n            <pre>{JSON.stringify(profile, null, '\\t')}</pre>\n        </div>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}