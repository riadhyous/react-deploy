{"ast":null,"code":"import _slicedToArray from \"/home/nino420/Desktop/TodoReactApp/Firebase-auth-chat-app-master/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/nino420/Desktop/TodoReactApp/Firebase-auth-chat-app-master/src/pages/profile/UpdateProfileData/UpdateProfileData.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport firebaseImage from '../../../assets/firebase.png';\nimport { useDispatch, useMappedState } from 'redux-react-hook';\nimport { action_getProfileData } from '../../../store/profile/getProfileData';\nimport { firebase_app } from '../../../api/firebase';\nimport { getProfile } from '../../../store/profile/selectors';\nimport { action_updateProfileData } from '../../../store/profile/updateProfileData';\nimport './updateProfileData.scss';\nexport var UpdateProfileData = function UpdateProfileData() {\n  var dispatch = useDispatch();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      firstName = _useState2[0],\n      setFirstName = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      lastName = _useState4[0],\n      setLastName = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isUserLoggedIn = _useState6[0],\n      setIsUserLoggedIn = _useState6[1];\n\n  firebase_app.auth().onAuthStateChanged(function (user) {\n    if (user) {\n      setIsUserLoggedIn(true);\n    }\n  });\n  useEffect(function () {\n    if (isUserLoggedIn) {\n      dispatch(action_getProfileData());\n    }\n  }, [isUserLoggedIn, dispatch]);\n\n  var _useMappedState = useMappedState(getProfile),\n      profile = _useMappedState.data,\n      isProfileLoading = _useMappedState.loading;\n\n  useEffect(function () {\n    if (profile) {\n      setFirstName(profile.firstName);\n      setLastName(profile.lastName);\n    }\n  }, [profile, isProfileLoading]);\n  return React.createElement(\"div\", {\n    className: \"update-profile-data\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: firebaseImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Update profile data\"), React.createElement(\"input\", {\n    placeholder: \"First name\",\n    value: firstName,\n    onChange: function onChange(event) {\n      return setFirstName(event.currentTarget.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    placeholder: \"Last name\",\n    value: lastName,\n    onChange: function onChange(event) {\n      return setLastName(event.currentTarget.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: function onClick() {\n      if (firstName && lastName) {\n        dispatch(action_updateProfileData({\n          firstName: firstName,\n          lastName: lastName\n        }));\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Update profile data\"));\n};","map":{"version":3,"sources":["/home/nino420/Desktop/TodoReactApp/Firebase-auth-chat-app-master/src/pages/profile/UpdateProfileData/UpdateProfileData.tsx"],"names":["React","useEffect","useState","firebaseImage","useDispatch","useMappedState","action_getProfileData","firebase_app","getProfile","action_updateProfileData","UpdateProfileData","dispatch","firstName","setFirstName","lastName","setLastName","isUserLoggedIn","setIsUserLoggedIn","auth","onAuthStateChanged","user","profile","data","isProfileLoading","loading","event","currentTarget","value"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,SAASC,WAAT,EAAsBC,cAAtB,QAA4C,kBAA5C;AACA,SAASC,qBAAT,QAAsC,uCAAtC;AACA,SAASC,YAAT,QAA6B,uBAA7B;AACA,SAASC,UAAT,QAA2B,kCAA3B;AACA,SAASC,wBAAT,QAAyC,0CAAzC;AAEA,OAAO,0BAAP;AAEA,OAAO,IAAMC,iBAA2B,GAAG,SAA9BA,iBAA8B,GAAM;AAC7C,MAAMC,QAAQ,GAAGP,WAAW,EAA5B;;AAD6C,kBAGXF,QAAQ,CAAS,EAAT,CAHG;AAAA;AAAA,MAGtCU,SAHsC;AAAA,MAG3BC,YAH2B;;AAAA,mBAIbX,QAAQ,CAAS,EAAT,CAJK;AAAA;AAAA,MAItCY,QAJsC;AAAA,MAI5BC,WAJ4B;;AAAA,mBAKDb,QAAQ,CAAU,KAAV,CALP;AAAA;AAAA,MAKtCc,cALsC;AAAA,MAKtBC,iBALsB;;AAO7CV,EAAAA,YAAY,CAACW,IAAb,GAAoBC,kBAApB,CAAuC,UAACC,IAAD,EAAU;AAC7C,QAAIA,IAAJ,EAAU;AACNH,MAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACH;AACJ,GAJD;AAMAhB,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAIe,cAAJ,EAAoB;AAChBL,MAAAA,QAAQ,CAACL,qBAAqB,EAAtB,CAAR;AACH;AACJ,GAJQ,EAIN,CAACU,cAAD,EAAiBL,QAAjB,CAJM,CAAT;;AAb6C,wBAmBQN,cAAc,CAACG,UAAD,CAnBtB;AAAA,MAmB/Ba,OAnB+B,mBAmBrCC,IAnBqC;AAAA,MAmBbC,gBAnBa,mBAmBtBC,OAnBsB;;AAqB7CvB,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAIoB,OAAJ,EAAa;AACTR,MAAAA,YAAY,CAACQ,OAAO,CAACT,SAAT,CAAZ;AACAG,MAAAA,WAAW,CAACM,OAAO,CAACP,QAAT,CAAX;AACH;AACJ,GALQ,EAKN,CAACO,OAAD,EAAUE,gBAAV,CALM,CAAT;AAOA,SACI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,GAAG,EAAEpB,aAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAHJ,EAII;AACI,IAAA,WAAW,EAAC,YADhB;AAEI,IAAA,KAAK,EAAES,SAFX;AAGI,IAAA,QAAQ,EAAE,kBAACa,KAAD;AAAA,aAAWZ,YAAY,CAACY,KAAK,CAACC,aAAN,CAAoBC,KAArB,CAAvB;AAAA,KAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EASI;AACI,IAAA,WAAW,EAAC,WADhB;AAEI,IAAA,KAAK,EAAEb,QAFX;AAGI,IAAA,QAAQ,EAAE,kBAACW,KAAD;AAAA,aAAWV,WAAW,CAACU,KAAK,CAACC,aAAN,CAAoBC,KAArB,CAAtB;AAAA,KAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,EAcI;AACI,IAAA,OAAO,EAAE,mBAAM;AACX,UAAIf,SAAS,IAAIE,QAAjB,EAA2B;AACvBH,QAAAA,QAAQ,CAACF,wBAAwB,CAAC;AAAEG,UAAAA,SAAS,EAATA,SAAF;AAAaE,UAAAA,QAAQ,EAARA;AAAb,SAAD,CAAzB,CAAR;AACH;AACJ,KALL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAdJ,CADJ;AA0BH,CAtDM","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport firebaseImage from '../../../assets/firebase.png';\nimport { useDispatch, useMappedState } from 'redux-react-hook';\nimport { action_getProfileData } from '../../../store/profile/getProfileData';\nimport { firebase_app } from '../../../api/firebase';\nimport { getProfile } from '../../../store/profile/selectors';\nimport { action_updateProfileData } from '../../../store/profile/updateProfileData';\n\nimport './updateProfileData.scss';\n\nexport const UpdateProfileData: React.FC = () => {\n    const dispatch = useDispatch();\n\n    const [firstName, setFirstName] = useState<string>('');\n    const [lastName, setLastName] = useState<string>('');\n    const [isUserLoggedIn, setIsUserLoggedIn] = useState<boolean>(false);\n\n    firebase_app.auth().onAuthStateChanged((user) => {\n        if (user) {\n            setIsUserLoggedIn(true);\n        }\n    });\n\n    useEffect(() => {\n        if (isUserLoggedIn) {\n            dispatch(action_getProfileData());\n        }\n    }, [isUserLoggedIn, dispatch]);\n\n    const { data: profile, loading: isProfileLoading } = useMappedState(getProfile);\n\n    useEffect(() => {\n        if (profile) {\n            setFirstName(profile.firstName);\n            setLastName(profile.lastName);\n        }\n    }, [profile, isProfileLoading]);\n\n    return (\n        <div className=\"update-profile-data\">\n            <img src={firebaseImage} />\n\n            <span>Update profile data</span>\n            <input\n                placeholder=\"First name\"\n                value={firstName}\n                onChange={(event) => setFirstName(event.currentTarget.value)}\n            />\n            <input\n                placeholder=\"Last name\"\n                value={lastName}\n                onChange={(event) => setLastName(event.currentTarget.value)}\n            />\n            <button\n                onClick={() => {\n                    if (firstName && lastName) {\n                        dispatch(action_updateProfileData({ firstName, lastName }));\n                    }\n                }}\n            >\n                Update profile data\n            </button>\n        </div>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}