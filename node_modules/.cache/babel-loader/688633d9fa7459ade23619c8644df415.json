{"ast":null,"code":"import _regeneratorRuntime from \"/home/nino420/Desktop/TodoReactApp/Firebase-auth-chat-app-master/node_modules/@babel/runtime/regenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(worker_signInPopup);\n\nimport { put } from 'redux-saga/effects';\nimport { toast } from 'react-toastify';\nimport { signInPopupError, signInPopupSuccess } from './actions';\nimport { firebase_app } from '../../../api/firebase';\nexport function worker_signInPopup(action) {\n  var infoToastID, provider, userCredential;\n  return _regeneratorRuntime.wrap(function worker_signInPopup$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          provider = action.payload.provider;\n          console.log('PROVIDER', provider);\n          infoToastID = toast.info('Loading');\n          _context.next = 6;\n          return firebase_app.auth().signInWithPopup(provider);\n\n        case 6:\n          userCredential = _context.sent;\n          toast.dismiss(infoToastID);\n          toast.success('User logged in');\n          _context.next = 11;\n          return put(signInPopupSuccess(userCredential));\n\n        case 11:\n          _context.next = 20;\n          break;\n\n        case 13:\n          _context.prev = 13;\n          _context.t0 = _context[\"catch\"](0);\n          toast.dismiss(infoToastID);\n          toast.error(_context.t0.message);\n          console.log(_context.t0);\n          _context.next = 20;\n          return put(signInPopupError(_context.t0));\n\n        case 20:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[0, 13]]);\n}","map":{"version":3,"sources":["/home/nino420/Desktop/TodoReactApp/Firebase-auth-chat-app-master/src/store/auth/signInWithPopUp/sagas.ts"],"names":["worker_signInPopup","put","toast","signInPopupError","signInPopupSuccess","firebase_app","action","provider","payload","console","log","infoToastID","info","auth","signInWithPopup","userCredential","dismiss","success","error","message"],"mappings":";;;;yBAOiBA,kB;;AAPjB,SAASC,GAAT,QAAoB,oBAApB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AAGA,SAASC,gBAAT,EAA2BC,kBAA3B,QAAqD,WAArD;AACA,SAASC,YAAT,QAA6B,uBAA7B;AAEA,OAAO,SAAUL,kBAAV,CACHM,MADG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKSC,UAAAA,QALT,GAKsBD,MAAM,CAACE,OAL7B,CAKSD,QALT;AAOCE,UAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBH,QAAxB;AAEAI,UAAAA,WAAW,GAAGT,KAAK,CAACU,IAAN,CAAW,SAAX,CAAd;AATD;AAWwB,iBAAMP,YAAY,CAACQ,IAAb,GAAoBC,eAApB,CAAoCP,QAApC,CAAN;;AAXxB;AAWOQ,UAAAA,cAXP;AAaCb,UAAAA,KAAK,CAACc,OAAN,CAAcL,WAAd;AACAT,UAAAA,KAAK,CAACe,OAAN,CAAc,gBAAd;AAdD;AAgBC,iBAAMhB,GAAG,CAACG,kBAAkB,CAACW,cAAD,CAAnB,CAAT;;AAhBD;AAAA;AAAA;;AAAA;AAAA;AAAA;AAkBCb,UAAAA,KAAK,CAACc,OAAN,CAAcL,WAAd;AACAT,UAAAA,KAAK,CAACgB,KAAN,CAAY,YAAMC,OAAlB;AAEAV,UAAAA,OAAO,CAACC,GAAR;AArBD;AAuBC,iBAAMT,GAAG,CAACE,gBAAgB,aAAjB,CAAT;;AAvBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import { put } from 'redux-saga/effects';\nimport { toast } from 'react-toastify';\nimport firebase from 'firebase';\n\nimport { signInPopupError, signInPopupSuccess } from './actions';\nimport { firebase_app } from '../../../api/firebase';\n\nexport function* worker_signInPopup(\n    action: Record<'payload', { provider: firebase.auth.AuthProvider }>,\n): IterableIterator<any> {\n    let infoToastID;\n    try {\n        const { provider } = action.payload;\n\n        console.log('PROVIDER', provider);\n\n        infoToastID = toast.info('Loading');\n\n        const userCredential = yield firebase_app.auth().signInWithPopup(provider);\n\n        toast.dismiss(infoToastID);\n        toast.success('User logged in');\n\n        yield put(signInPopupSuccess(userCredential));\n    } catch (error) {\n        toast.dismiss(infoToastID);\n        toast.error(error.message);\n\n        console.log(error);\n\n        yield put(signInPopupError(error));\n    }\n}\n"]},"metadata":{},"sourceType":"module"}